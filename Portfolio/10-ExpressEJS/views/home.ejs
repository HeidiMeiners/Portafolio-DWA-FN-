<%- include('partials/header', { userName: userName }); %>

<main>
    <h2>Welcome to Your Blog, <%= userName %>!</h2>
    
    <% if (posts.length === 0) { %>
        <p>No posts available. Please create a new one!</p>
    <% } else { %>
        <h3>Available Posts</h3>
        <ul>
            <% posts.forEach(post => { %>
                <li>
                    <strong><%= post.title %></strong>: <%= post.content.length > 100 ? post.content.substring(0, 100) + '...' : post.content %>
                    <a href="/post/<%= post.id %>">Read More</a>
                </li>
            <% }); %>
        </ul>
    <% } %>

    <h3>Create a New Post</h3>
    <form action="/posts" method="POST">
        <label for="title">Title:</label>
        <input type="text" name="title" id="title" required>
        <label for="content">Content:</label>
        <textarea name="content" id="content" required></textarea>
        <input type="submit" value="Submit Post">
    </form>
</main>

<%- include('partials/footer'); %>