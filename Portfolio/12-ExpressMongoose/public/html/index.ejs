<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mongo DB - F1 Database</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <h1>Welcome to my F1 DB</h1>
    <form action="/driver" method="POST">
        <h2>Driver Information</h2>
        <input type="text" name="num" placeholder="Number" required />
        <input type="text" name="code" placeholder="Code" required />
        <input type="text" name="forename" placeholder="Name" required />
        <input type="text" name="surname" placeholder="Last name" required />
        <label for="dob">Date of birth:</label>
        <input type="date" name="dob" required />
        <label for="url">Biography URL:</label>
        <input type="url" name="url" />
        <label for="nationality">Nationality:</label>
        <select name="nationality">
            <% countries.forEach(country => { %>
                <option value="<%= country.code %>"><%= country.label %></option>
            <% }) %>
        </select>
        <label for="team">Team:</label>
        <select name="team">
            <% teams.forEach(team => { %>
                <option value="<%= team.name %>"><%= team.name %></option>
            <% }) %>
        </select>
        <input type="submit" value="Add Driver" />
    </form>

    <h2>Driver List</h2>
    <ul>
        <% drivers.forEach(driver => { %>
            <li><%= driver.forename %> <%= driver.surname %> - Team: <%= driver.team.name %></li>
            <form action="/driver/edit/<%= driver._id %>" method="POST">
                <input type="text" name="forename" value="<%= driver.forename %>" />
                <input type="text" name="surname" value="<%= driver.surname %>" />
                <input type="submit" value="Save" />
            </form>
        <% }) %>
    </ul>
</body>
</html>